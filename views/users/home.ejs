
<%- include('../layouts/navbar.ejs') %>
<style>
    :root {
        --primary-color: #D83344;
        --text-color: #333333;
        --background-color: #f5f5f7;
        --card-background: #ffffff;
    }

    body {
        font-family: 'Inter', sans-serif;
        background-color: var(--background-color);
        color: var(--text-color);
        line-height: 1.6;
        /* padding: 20px; */
        /* margin: 0; */
    }

    .cont {
        max-width: 300px; /* Decreased the width */
        margin: 1.5rem auto;
    }

    .product-card {
        background-color: var(--card-background);
        border-radius: 15px; /* Reduced the corner radius */
        overflow: hidden;
        box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1); /* Slightly smaller shadow */
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .product-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 12px 24px rgba(0, 0, 0, 0.15);
    }

    .product-card__image {
        height: 180px; /* Reduced image height */
        overflow: hidden;
    }

    .product-card__image img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: transform 0.3s ease;
    }

    .product-card:hover .product-card__image img {
        transform: scale(1.05);
    }

    .product-card__info {
        padding: 15px; /* Reduced padding */
    }

    .product-card__title {
        font-size: 1.2rem; /* Reduced font size */
        font-weight: 700;
        margin-bottom: 8px;
        color: var(--text-color);
    }

    .product-card__description {
        font-size: 0.8rem; /* Reduced font size */
        color: #666;
        margin-bottom: 15px;
    }

    .product-card__price-row {
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .product-card__price {
        font-size: 1.1rem; /* Reduced font size */
        font-weight: 600;
        color: var(--primary-color);
    }

    .product-card__btn {
        background-color: var(--primary-color);
        color: white;
        border: none;
        padding: 8px 16px; /* Reduced button size */
        border-radius: 40px;
        font-size: 0.8rem;
        font-weight: 600;
        cursor: pointer;
        transition: background-color 0.3s ease;
    }

    .product-card__btn:hover {
        background-color: #C71729;
    }

    @media (max-width: 480px) {
        .cont {
            max-width: 100%;
            padding: 0 10px;
        }

        .product-card__image {
            height: 160px; /* Reduced height for mobile */
        }

        .product-card__title {
            font-size: 1.1rem;
        }

        .product-card__description {
            font-size: 0.75rem;
        }

        .product-card__price {
            font-size: 1rem;
        }

        .product-card__btn {
            padding: 6px 12px;
            font-size: 0.75rem;
        }
    }

    .banner {
    padding: 60px 0; /* Adjust padding as needed */
}

.banner__item {
    border: 1px solid #ddd; /* Light border for card effect */
    border-radius: 10px; /* Rounded corners */
    overflow: hidden; /* Ensure content doesn't overflow */
    box-shadow: 0 4px 8px rgba(0,0,0,0.1); /* Shadow for card effect */
    transition: transform 0.3s ease, box-shadow 0.3s ease; /* Smooth transition */
}

.banner__item:hover {
    transform: scale(1.05); /* Slightly enlarge on hover */
    box-shadow: 0 8px 16px rgba(0,0,0,0.2); /* Increase shadow on hover */
}

.banner__item__pic img {
    width: 100%; /* Ensure image fits the container */
    height: auto; /* Maintain aspect ratio */
}

.banner__item__text {
    padding: 20px; /* Add padding around text */
    text-align: center; /* Center align text */
}

.banner__item__text h2 {
    margin: 0 0 10px; /* Margin below heading */
    font-size: 18px; /* Adjust font size as needed */
}

.banner__item__text a {
    color: #007bff; /* Link color */
    text-decoration: none; /* Remove underline from link */
    font-weight: bold; /* Make link text bold */
}

.banner__item__text a:hover {
    text-decoration: underline; /* Underline on hover */
}

.product-heading {
    text-align: center;
    text-transform: uppercase;
    font-size: 2rem; /* Adjust as needed */
    font-weight: bold;
    margin-bottom: 30px; /* Adjust spacing between heading and products */
    position: relative;
}

.product-heading::after {
    content: "";
    display: block;
    width: 380px; /* Adjust underline length as needed */
    height: 3px; /* Adjust underline thickness as needed */
    background-color: #000; /* Adjust underline color */
    margin: 10px auto 0; /* Center the underline and add space above it */
}

.product__item {
    margin-bottom: 30px; /* Add space between product items */
}


</style>

<body>

    <!-- Page Preloder -->
    <!-- <div id="preloder">
        <div class="loader"></div>
    </div> -->

    <!-- Offcanvas Menu Begin -->
    <div class="offcanvas-menu-overlay" ></div>
    <div class="offcanvas-menu-wrapper">
        <div class="offcanvas__option">
            <div class="offcanvas__links">
                <%console.log(user)%>
                <%if(!user){%>
                <a href="/login">Sign in</a>
                <%}%>
                <a href="#">FAQs</a>
            </div>
            <div class="offcanvas__top__hover">
                <span>Usd <i class="arrow_carrot-down"></i></span>
                <ul>
                    <li>USD</li>
                    <li>EUR</li>
                    <li>USD</li>
                </ul>
            </div>
        </div>
        <div class="offcanvas__nav__option">
            <a href="#" class="search-switch"><img src="img/icon/search.png" alt=""></a>
            <a href="#"><img src="img/icon/heart.png" alt=""></a>
            <a href="#"><img src="img/icon/cart.png" alt=""> <span>0</span></a>
            <div class="price">$0.00</div>
        </div>
        <div id="mobile-menu-wrap"></div>
        <div class="offcanvas__text">
            <p>Free shipping, 30-day return or refund guarantee.</p>
        </div>
    </div>
    <!-- Offcanvas Menu End -->

    <style>
        .hero__items {
    width: 1920px;
    height: 801px;
    padding-top: 230px;
}
    </style>

    <!-- Hero Section Begin -->
    <section class="hero">
        <div class="hero__slider owl-carousel">
            <div class="hero__items set-bg" data-setbg="img/hero/hero-1.jpg">
                <div class="container">
                    <div class="row">
                        <div class="col-xl-5 col-lg-7 col-md-8 ml-auto">
                            <div class="hero__text">
                                <h6>Luxury Timepieces</h6>
                            <h2>Exclusive Fall - Trending Watch Collection 2024</h2>
                            <p>Discover our premium range of watches, crafted with precision and luxury in mind. 
                            Designed for those who appreciate timeless elegance and quality.</p>
                                <a href="/shop" class="primary-btn">Shop now <span class="arrow_right"></span></a>
                                <div class="hero__social">
                                    <a href="#"><i class="fa fa-facebook"></i></a>
                                    <a href="#"><i class="fa fa-twitter"></i></a>
                                    <a href="#"><i class="fa fa-pinterest"></i></a>
                                    <a href="#"><i class="fa fa-instagram"></i></a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="hero__items set-bg" data-setbg="img/hero/hero-2.jpg">
                <div class="container">
                    <div class="row">
                        <div class="col-xl-5 col-lg-7 col-md-8">
                            <div class="hero__text">
                                <!-- <h6>Summer Collection</h6>
                                <h2>Fall - Winter Collections 2030</h2>
                                <p>A specialist label creating luxury essentials. Ethically crafted with an unwavering
                                commitment to exceptional quality.</p> -->
                                <!-- <a href="#" class="primary-btn">Shop now <span class="arrow_right"></span></a> -->
                                <div class="hero__social">
                                    <a href="#"><i class="fa fa-facebook"></i></a>
                                    <a href="#"><i class="fa fa-twitter"></i></a>
                                    <a href="#"><i class="fa fa-pinterest"></i></a>
                                    <a href="#"><i class="fa fa-instagram"></i></a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Hero Section End -->

    <!-- Banner Section Begin -->
    <!-- <section class="banner spad">
        <div class="container">
            <div class="row">
                <div class="col-lg-7 offset-lg-4">
                    <div class="banner__item">
                        <div class="banner__item__pic">
                            <img src="img/banner/banner-1.jpg" alt="">
                        </div>
                        <div class="banner__item__text">
                            <h2>Luxury Watch Collection 2024</h2>
                            <a href="#">Shop now</a>
                        </div>
                    </div>
                </div>
                <div class="col-lg-5">
                    <div class="banner__item banner__item--middle">
                        <div class="banner__item__pic">
                            <img src="img/banner/banner-2.jpg" alt="">
                        </div>
                        <div class="banner__item__text">
                            <h2>Accessories</h2>
                            <a href="#">Shop now</a>
                        </div>
                    </div>
                </div>
                <div class="col-lg-7">
                    <div class="banner__item banner__item--last">
                        <div class="banner__item__pic">
                            <img src="img/banner/banner-3.jpg" alt="">
                        </div>
                        <div class="banner__item__text">
                            <h2>Shoes Spring 2030</h2>
                            <a href="#">Shop now</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section> -->
    <!-- Banner Section End -->


    <!-- Banner Section Begin -->
<section class="banner spad">
    <div class="container">
        <div class="row">
            <!-- First image -->
            <div class="col-lg-4">
                <div class="banner__item card">
                    <div class="banner__item__pic">
                        <img src="img/banner/banner-1.jpg" alt="Luxury Watch Collection 2024">
                    </div>
                </div>
            </div>
            <!-- Second image -->
            <div class="col-lg-4">
                <div class="banner__item card">
                    <div class="banner__item__pic">
                        <img src="img/banner/banner-2.jpg" alt="Accessories">
                    </div>
                </div>
            </div>
            <!-- Third image -->
            <div class="col-lg-4">
                <div class="banner__item card">
                    <div class="banner__item__pic">
                        <img src="img/banner/banner-3.jpg" alt="Shoes Spring 2030">
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- Banner Section End -->
<div class="col-lg-12">
    <h2 class="product-heading">Explore the Collection</h2>
</div>

 
    <!-- Product Section Begin -->
    <section class="product spad">
        <div class="container">
            <div class="row">
                <% products.forEach(product => { %>
                    <div class="col-lg-3 col-md-6 col-sm-6 col-md-6 col-sm-6 mix new-arrivals">
                        <div class="cont">
                            <div class="product-card">
                                <div class="product-card__image">
                                    <img src="/uploadedImages/<%= product.images[0] %>" alt="<%= product.name %>">
                                </div>
                                <div class="product-card__info">
                                    <h2 class="product-card__title"><%= product.name %></h2>
                                    <div class="product-card__price-row">
                                        <span class="product-card__price">â‚¹<%= product.price %></span>
                                        <button id="add-btn" data-product-id="<%= product._id %>" class="product-card__btn">Add to Cart</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                <% }) %>
            </div>
        </div>
    </section>
    <!-- Product Section End -->

   
 

    <!-- Categories Section Begin -->
    <!-- <section class="categories spad">
        <div class="container">
            <div class="row">
                <div class="col-lg-3">
                    <div class="categories__text">
                        <h2>Clothings Hot <br /> <span>Shoe Collection</span> <br /> Accessories</h2>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="categories__hot__deal">
                        <img src="img/product-sale.png" alt="">
                        <div class="hot__deal__sticker">
                            <span>Sale Of</span>
                            <h5>$29.99</h5>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 offset-lg-1">
                    <div class="categories__deal__countdown">
                        <span>Deal Of The Week</span>
                        <h2>Multi-pocket Chest Bag Black</h2>
                        <div class="categories__deal__countdown__timer" id="countdown">
                            <div class="cd-item">
                                <span>3</span>
                                <p>Days</p>
                            </div>
                            <div class="cd-item">
                                <span>1</span>
                                <p>Hours</p>
                            </div>
                            <div class="cd-item">
                                <span>50</span>
                                <p>Minutes</p>
                            </div>
                            <div class="cd-item">
                                <span>18</span>
                                <p>Seconds</p>
                            </div>
                        </div>
                        <a href="#" class="primary-btn">Shop now</a>
                    </div>
                </div>
            </div>
        </div>
    </section> -->
    <!-- Categories Section End -->

    <%- include('../layouts/footer.ejs') %>

    <script>
          document.getElementById('add-btn').addEventListener('click', async function (event) {
                event.preventDefault();

                const productId = this.getAttribute('data-product-id');

                if (!productId) {
                    console.error('Product ID not found.');
                    return;
                }
                try {
                    const response = await fetch(`/addToCart`, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({ productId })
                    });
                    const data = await response.json()  ;

                    if (data.success) {
                        window.location.href = `/cart`;  
                    } else {
                        console.error('Failed to add item to cart.');
                    }
                }
                catch (err) {
                    console.log(err);

                }
            });
    </script>

  

    